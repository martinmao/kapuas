############################################################################################################
#
#			                    Logging settings
#
############################################################################################################
debug=false
#logging.config=classpath:logback-conf.xml
logging.level.org.scleropages=debug
logging.level.org.springframework.orm.jpa.JpaTransactionManager=debug
logging.level.org.springframework.transaction.interceptor=trace
logging.level.org.springframework.web=debug
#logging.level.org.hibernate.type.descriptor.sql.BasicBinder=trace
#logging.level.org.hibernate.type.descriptor.sql.BasicExtractor=trace
logging.level.org.apache.shiro=debug
logging.level.org.activiti.engine.impl.persistence.entity=debug
logging.level.org.apache.cxf.services=warn
logging.level.org.springframework.jdbc=trace
logging.level.org.springframework.data.elasticsearch.client.WIRE=trace
logging.level.org.jooq.tools.LoggerListener=trace
############################################################################################################
#
#			                    Actuator settings
#
############################################################################################################
management.endpoints.web.exposure.include=*
management.health.rabbit.enabled=false
javasimon.aspectj-expression=execution(public * org.scleropages..mgmt.*.*(..))
server.tomcat.mbeanregistry.enabled=true
############################################################################################################
#
#			                    Framework settings
#
############################################################################################################
spring.application.name=kapuas-application
server.host=localhost
server.port=18080
server.servlet.context-path=/kapuas
server.servlet.jsp.init-parameters.development=true
spring.aop.proxy-target-class=true
spring.jpa.open-in-view=false
spring.jpa.generate-ddl=true
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
#never to enabled has larger performance cost
spring.jpa.properties.hibernate.enable_lazy_load_no_trans=false
hibernate.generic_interceptor_enabled=true
mybatis.mapper-locations=classpath*:mappers/*
mybatis.configuration.map-underscore-to-camel-case=true
spring.jdbc.template.query-timeout=-1
spring.jdbc.template.fetch-size=-1
spring.jdbc.template.max-rows=-1
spring.data.rest.base-path=api/hal
spring.data.rest.detection-strategy=default
#cache
spring.cache.jcache.config=classpath:/ehcache/ehcache.xml
# mvc settings
spring.mvc.favicon.enabled=false
spring.thymeleaf.cache=false
spring.mvc.view.prefix=/WEB-INF/views/
spring.mvc.view.suffix=.jsp
spring.jackson.date-format=yyyy-MM-dd HH:mm:ss
spring.jackson.serialization.indent-output=false
spring.jackson.default-property-inclusion=non_empty
spring.jackson.deserialization.fail-on-unknown-properties=false
spring.jackson.property-naming-strategy=com.fasterxml.jackson.databind.PropertyNamingStrategy.SnakeCaseStrategy
#spring.jackson.property-naming-strategy=com.fasterxml.jackson.databind.PropertyNamingStrategy
############################################################################################################
#
#			                    JDBC settings
#
############################################################################################################
#spring.datasource.type=com.zaxxer.hikari.HikariDataSource
spring.datasource.type=com.alibaba.druid.pool.DruidDataSource

#启用通过注解切换数据源，@DataSourceRouting
datasource-routing.annotations.enabled=true
#是否启用多数据源配置
datasource-multiple.enabled=false
spring.datasource.driver-class-name=com.mysql.jdbc.Driver
spring.datasource.url=jdbc:mysql://localhost/kapuas?useUnicode=true&amp;characterEncoding=utf-8
spring.datasource.username=root
spring.datasource.password=passw0rd
second.datasource.driver-class-name=org.h2.Driver
second.datasource.url=jdbc:h2:file:~/.h2/kapuas-second;AUTO_SERVER=TRUE;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
second.datasource.username=sa
second.datasource.password=
third.datasource.driver-class-name=org.h2.Driver
third.datasource.url=jdbc:h2:file:~/.h2/kapuas-third;AUTO_SERVER=TRUE;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
third.datasource.username=sa
third.datasource.password=
spring.h2.console.enabled=true
spring.h2.console.path=/h2
#
#hikari datasource settings
#
#controls the default auto-commit behavior of connections returned from the pool
spring.datasource.hikari.auto-commit=false
#controls the maximum lifetime of a connection in the pool.
spring.datasource.hikari.max-lifetime=1800000
#controls the maximum size that the pool is allowed to reach, including both idle and in-use connections.
spring.datasource.hikari.maximum-pool-size=20
#controls the maximum number of milliseconds that a client (that's you) will wait for a connection from the pool.最小30秒
spring.datasource.hikari.connection-timeout=30000
#controls whether the pool will "fail fast" if the pool cannot be seeded with an initial connection successfully.
spring.datasource.hikari.initialization-fail-timeout=1
#controls whether or not JMX Management Beans ("MBeans") are registered or not
spring.datasource.hikari.register-mbeans=false
#controls whether the pool can be suspended and resumed through JMX
spring.datasource.hikari.allow-pool-suspension=false
#controls the amount of time that a connection can be out of the pool before a message is logged indicating a possible connection leak. 0=disabled and <2000
spring.datasource.hikari.leak-detection-threshold=0
#
#druid datasource settings
#
spring.datasource.druid.initial-size=3
spring.datasource.druid.min-idle=5
spring.datasource.druid.max-active=20
spring.datasource.druid.max-wait=30000
spring.datasource.druid.test-while-idle=false
spring.datasource.druid.test-on-borrow=false
spring.datasource.druid.test-on-return=false
#web console
spring.datasource.druid.stat-view-servlet.enabled=true
spring.datasource.druid.web-stat-filter.enabled=true
spring.datasource.druid.filters=stat
# slow sql
spring.datasource.druid.connectionProperties=druid.stat.mergeSql\=false;druid.stat.slowSqlMillis\=5000
#connection leak check. not enabled in production env
spring.datasource.druid.remove-abandoned=false
spring.datasource.druid.log-abandoned=false
spring.datasource.druid.remove-abandoned-timeout=180

openapi.base-packages=org.scleropages
openapi.build-on-startup=true
openapi.group=scleropages.org/${spring.application.name}
openapi.title=Api list
openapi.desc=List of available services
openapi.version=v1.0.0
openapi.terms_of_service_url=http://${server.host}:${server.port}/terms_of_service.html
openapi.contact_name=${spring.application.name}
openapi.contact_url=http://${server.host}:${server.port}/contact_url.html
openapi.contact_email=contact_email@somebody.com
openapi.license=${spring.application.name} license
openapi.license_url=http://${server.host}:${server.port}/license_url.html